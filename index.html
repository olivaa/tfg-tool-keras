<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>TFG-Alejandro Oliva</title>
  <link type="text/css" rel="stylesheet" href="css/style.css" />
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>

  <!-- Materialize -->
  <!--Import Google Icon Font-->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!--Import materialize.css-->
  <link type="text/css" rel="stylesheet" href="css/materialize.min.css" media="screen,projection" />
  <!--Let browser know website is optimized for mobile-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>

<body>
  <div class="row">
    <!--**********************Menu***************************************-->
    <div class="col s2">
      <ul class="side-menu">
        <li><a href="#" id="train-button"><br><span class="fa fa-code"></span>Train</a></li>
        <li><a href="#" id="dataset-button"><br><span class="fa fa-cog"></span>Dataset</a></li>
        <li><a href="#" id="new-dataset-button"><br><span class="fa fa-cog"></span>New Dataset</a></li>
        <li><a href="#" id="load-dataset-button"><br><span class="fa fa-cog"></span>Load Dataset</a></li>
        <li><a href="#" id="model-button"><br><span class="fa fa-font"></span>Models</a></li>
        <li><a href="#" id="statistic-button"><br><span class="fa fa-caret-square-o-right"></span>Test Train-Dataset</a></li>
      </ul>
    </div>
    <div class="col s10">
      <!--************************Pantalla principal***************************** -->
      <div id="train-sets">
        <div id="train">
          <div class="row">
            <div class="col s6" style="margin-top:3%;">
              <div class="input-field" class="white-text">
                <select id="select-model" class="materialSelect  white-text">
                   <option value="" disabled selected>Choose your option</option>
                 </select>
                <label>Select Model</label>
              </div>

            </div>

            <div class="col s6" style="margin-top:4%;">
              <input type="text" id="select-dataset" class="white-text file-path validate" placeholder="Select dataset file...">
            </div>
          </div>
          <div class="row">

            <div class="input-field col s2">
              <input placeholder="0" id="epochs-train" type="text" class="validate">
              <label for="first_name">Epochs</label>
            </div>
            <div class="input-field col s2">
              <input placeholder="0" id="batch-train" type="text" class="validate">
              <label for="last_name">Batch Size</label>
            </div>
            <div class="input-field col s2">
              <a class="btn-floating btn-small waves-effect waves-light blue modal-trigger" href="#modalInfo" style="margin-top:1%;"><i class="material-icons">help</i></a>
            </div>
            <div class="input-field col s2">
              <input disabled placeholder="0" id="train-images" type="text" class="validate">
              <label for="train-images" class="white-text">Train Images</label>
            </div>
            <div class="input-field col s2">
              <input disabled placeholder="0" id="validation-images" type="text" class="validate">
              <label for="validation-images" class="white-text">Validation Images</label>
            </div>
          </div>

          <div class="row">
            <div class="col s6">
              <button id="entreno" class="btn waves-effect waves-light blue col s12">Train</button>
            </div>

            <div id="resultado_entreno"></div>
            <div class="col s6">
              <button disabled id="comunicacio" class="btn waves-effect waves-light blue col s12">Save Result</button>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col s12">
            <div class="card-panel teal lighten-2" id="panel-dataset-train" style="height:150px;">
              <span class="white-text">
                <div class="col s1">
                  <h6 class="white-text">Time training</h6>
                </div>
                <div class="col s1">
                  <h6 class="white-text" id="crono">00:00:00</h6>
                </div>
                <div class="col s1">
                  <h6 class="white-text">Epochs</h6>
                </div>
                <div class="col s1">
                  <h6 class="white-text" id="actual-epoch">0</h6>
                </div>
              </span>
            </div>
          </div>
        </div>


        <!-- Grafiques -->
        <div class="row">
          <div class="col s6" id="charts1">
            <canvas id="train_acc_loss"></canvas>
          </div>
          <div class="col s6" id="charts2">
            <canvas id="validation_acc_loss"></canvas>
          </div>
        </div>
        <!-- *************************************************************** -->
      </div>

      <!-- Pantalla Nuevo DataSet -->
      <div id="dataset">
        <div id="train-parameters">
          <div class="row">
            <div class="col s4">
              <input disabled type="text" id="train-directory" class="basictxt white-text" placeholder="Train directory...">
            </div>
            <div class="col s2">
              <div class="btn waves-effect waves-light" id="directori-train" style="width: 100%;">
                <span>Train Directory</span>
              </div>
            </div>
            <div class="col s4">
              <input disabled type="text" id="test-directory" class="basictxt white-text" placeholder="Test directory...">
            </div>

            <div class="col s2">
              <div class="btn waves-effect waves-light" id="directori-test" style="width: 100%;">
                <span>Validantion Directory</span>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col s4">
              <input type="number" id="input-classes" class="basictxt white-text" placeholder="Number of classes">
            </div>
            <div class="col s2">
              <div class="btn waves-effect waves-light" id="number-of-classes" style="width: 100%;">
                <span>Accept</span>
              </div>
            </div>
          </div>
          <div class="row" id="principal-tab-classes">
            <div class="col s12">
              <ul class="tabs tabs-fixed-width tab-demo transparent z-depth-1" id="tab-classes">
                <li class='tab text-white' id="tab-default"><a href='#'>Default</a></li>
              </ul>
            </div>

          </div>
        </div>

        <div class="row">
          <div class="col s6">
            <div class="btn waves-effect waves-light red lighten-2" id="delete-dataset" style="width: 100%;">
              <i class="material-icons right">save</i>
              <span>Reset dataset</span>
            </div>
          </div>
          <div class="col s6">
            <a class="btn waves-effect  waves-light  modal-trigger blue" id="save-dataset" href="#modal-save" style="width: 100%;">
                  <i class="material-icons right">save</i>
                  <span>Save dataset</span>
                </a>
          </div>

        </div>

        <div id="select-images">
        </div>
      </div>
      <!------------------------->


      <!-- ***********************Fi nuevo dataset***************************** -->

      <!-- ***********************Cargar dataset***************************** -->
      <div id="load-dataset">
        <div class="row" style="margin-top:3%">
          <div class="col s4">
            <input disabled type="text" id="train-directory" class="basictxt white-text" placeholder="Select file dataset...">
          </div>
          <div class="col s2">
            <div class="btn waves-effect waves-light" id="get-json-dataset" style="width: 100%;">
              <span>File</span>
            </div>
          </div>
        </div>
        <div class="row" id="load-principal-tab-classes">
          <div class="col s12">
            <ul class="tabs tabs-fixed-width tab-demo transparent z-depth-1" id="load-tab-classes">
              <li class='tab text-white' id="load-tab-default"><a href='#'>Default</a></li>
            </ul>
          </div>
        </div>
        <div class="row">
          <div class="col s6">
            <a class="btn waves-effect  waves-light  modal-trigger blue" id="save-dataset" href="#modal-save-load" style="width: 100%;">
                  <i class="material-icons right">save</i>
                  <span>Save dataset</span>
                </a>
          </div>

        </div>

        <!-- ***********************Fi cargar dataset***************************** -->

        <!------------------------->
      </div>
    </div>
  </div>
  <!--Modal guardar dades d'un nou dataset-->
  <!-- Modal Structure -->
  <div id="modal-save" class="modal">
    <div class="modal-content">
      <h4>SAVE YOUR DATASET</h4>
      <div class="input-field col s6">
        <input placeholder="Dataset Name" id="dataset_name" type="text" class="validate">
        <label for="first_name"></label>
      </div>
      <div class="col s6">
        <input disabled type="text" id="directori-dataset-json-input" class="basictxt black-text" placeholder="Test directory...">
      </div>
      <div class="col s6">
        <div class="btn waves-effect waves-light" id="directori-dataset-json" style="width: 100%;">
          <span>Select Directory</span>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Save</a>
    </div>
  </div>

  <!--Modal guardar dades d'un dataset carregat-->
  <!-- Modal Structure -->
  <div id="modal-save-load" class="modal">
    <div class="modal-content">
      <h4>SAVE YOUR DATASET</h4>
      <div class="input-field col s6">
        <input disabled placeholder="Dataset Name" id="load_dataset_name" type="text" class="validate">
        <label for="first_name"></label>
      </div>
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat" id="save-dataset-load">Save</a>
    </div>
  </div>

  <!-- Modal Info-->
  <div id="modalInfo" class="modal">
    <div class="modal-content">
      <h4>Help</h4>
      <li><strong>Epochs</strong>: Integer. Number of epochs to train the model. An epoch is an iteration over the entire <code>x</code> and <code>y</code> data provided. Note that in conjunction with <code>initial_epoch</code>,
        <code>epochs</code> is to be understood as "final epoch". The model is not trained for a number of iterations given by <code>epochs</code>, but merely until the epoch of index <code>epochs</code> is reached.</li>
      <li><strong>Batch size</strong>: Integer or <code>None</code>. Number of samples per gradient update. If unspecified, it will default to 32.</li>
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Agree</a>
    </div>
  </div>
  <a class="modal-trigger" href="#modalError" style="margin-top:1%;"></a>
  <div id="modalError" class="modal">
    <div class="modal-content">
      <h4>Complete fields  <i class="material-icons">error_outline</i></h4>
      <li>There are missing fields to complete. Please, complete all the fields to start the training.</li>
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Agree</a>
    </div>
  </div>
  <!--Modal Save Class -->
  <div id="modalSaveClass" class="modal">
    <div class="modal-content">
      <h4>Success</h4>
      <p>The class has been saved successfully</p>
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Ok</a>
    </div>
  </div>
  <!--Modal Save Class -->
  <div id="load-modalSaveClass" class="modal">
    <div class="modal-content">
      <h4>Success</h4>
      <p>The class has been saved successfully</p>
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Ok</a>
    </div>
  </div>
</body>

<!--Carregem els js per optimizar la carrega -->
<!-- jQuery version must be >= 1.8.0; -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<!-- A jQuery plugin that adds cross-browser mouse wheel support. (Optional) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/1.3.2/css/lightgallery.css" />

<!--Llibreria imatges -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/1.3.2/js/lightgallery.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lg-pager@1.0.2/dist/lg-pager.min.js"></script>

<!--Accions i materialize-->
<script type="text/javascript" src="js/materialize.min.js"></script>
<script src="js/init.js"></script>
<script>
  require('./js/renderer.js')
  require('./js/n_dataset.js')
  require('./js/l_dataset.js')
  require('./js/l_dandm.js')
</script>

</html>
